<script setup lang="ts">
import { provideVSCodeDesignSystem, vsCodeButton, vsCodeTextField} from "@vscode/webview-ui-toolkit";
import { vscode } from "./utilities/vscode";

// In order to use the Webview UI Toolkit web components they
// must be registered with the browser (i.e. webview) using the
// syntax below.
provideVSCodeDesignSystem().register(
    vsCodeButton(),
    vsCodeTextField()
);

// To register more toolkit components, simply import the component
// registration function and call it from within the register
// function, like so:
//
// provideVSCodeDesignSystem().register(
//   vsCodeButton(),
//   vsCodeCheckbox()
// );
//
// Finally, if you would like to register all of the toolkit
// components at once, there's a handy convenience function:
//
// provideVSCodeDesignSystem().register(allComponents.register());

function handleHowdyClick() {
  vscode.postMessage({
    command: "hello",
    text: "Hey there partner! ü§†",
  });
}

/**
 * json Êï∞ÊçÆËΩ¨Êç¢Êàê‰ª£Á†Å
 */
function json2Code(json = {}, uiComponnetType = 'elementui') {
    console.log(json)
}
</script>

<template>
  <main>
    <h1>Hello world!</h1>
    <input type="file" />
    <vscode-text-field type="file"></vscode-text-field>
    <vscode-button @click="handleHowdyClick">Howdy!</vscode-button>
  </main>
</template>

<style>
main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  height: 100%;
}

main > * {
  margin: 1rem 0;
}
</style>
